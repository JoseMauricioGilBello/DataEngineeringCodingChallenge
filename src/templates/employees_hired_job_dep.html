<!DOCTYPE html>
<html>
<head>
    <title>Section 2:SQL </title>
    <style>
        table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 50%;
        }

        table, th, td {
            border: 3px solid black;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }
        h1 {
            color: green;
            font-size: 24px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Employee Hiring Analysis for 2021: Department and Job Distribution by Quarter</h1>
    
    <table>
        <tr>
            <th>department</th>
            <th></th>
            <th>job</th>
            <th>Q1</th>
            <th>Q2</th>
            <th>Q3</th>
            <th>Q4</th>
        </tr>
        
        {% set current_department = None %}
        
        {% for row in results %}
            {% if current_department != row.department %}
                <tr>
                    <td>{{ row.department }}</td>
                    <td> </td>
                    <td>{{ row.job }}</td>
                    <td>{{ row.Q1 }}</td>
                    <td>{{ row.Q2 }}</td>
                    <td>{{ row.Q3 }}</td>
                    <td>{{ row.Q4 }}</td>
                </tr>
                {% set current_department = row.department %}
            {% else %}
                <tr>
                    <td></td>
                    <td></td>
                    <td>{{ row.job }}</td>
                    <td>{{ row.Q1 }}</td>
                    <td>{{ row.Q2 }}</td>
                    <td>{{ row.Q3 }}</td>
                    <td>{{ row.Q4 }}</td>
                </tr>
            {% endif %}
        {% endfor %}
    </table>
    <p>Author: Mauricio Gil</p> 
</body>
</html>
